name: mastodon
displayName: Mastodon
description: Decentralized open source social network for self-hosted microblogging communities.
category: collaboration
icon: https://dyltqmyl993wv.cloudfront.net/assets/stacks/mastodon/img/mastodon-stack-220x234.png

chart:
  name: mastodon
  repository: oci://registry-1.docker.io/bitnamicharts
  version: "14.0.0"

ssl:
  enabled: true

requirements:
  cpu: 2
  memory: 4Gi
  disk: 30Gi

versions:
  - "14.0.0"

parameters:
  - name: MASTODON_ADMIN_EMAIL
    displayName: Admin Email
    description: Mastodon admin account email address
    type: string
    required: true
    helmMapping: mastodon.adminEmail

  - name: MASTODON_ADMIN_PASSWORD
    displayName: Admin Password
    description: Mastodon admin account password
    type: password
    required: true
    helmMapping: mastodon.adminPassword

  - name: MASTODON_POSTGRES_PASSWORD
    displayName: PostgreSQL Password
    description: Password for the bundled PostgreSQL database
    type: password
    required: true
    helmMapping: mastodon.postgresql.auth.password

  - name: MASTODON_REDIS_PASSWORD
    displayName: Redis Password
    description: Password for the bundled Redis instance
    type: password
    required: true
    helmMapping: mastodon.redis.auth.password

  - name: MASTODON_ELASTICSEARCH_PASSWORD
    displayName: Elasticsearch Password
    description: Password for the bundled Elasticsearch instance
    type: password
    required: true
    helmMapping: mastodon.elasticsearch.security.elasticPassword
