# Cuemby defaults for ClickHouse on single-node K3s.

global:
  imageRegistry: public.ecr.aws
  security:
    allowInsecureImages: true

clickhouse:
  shards: 1
  replicaCount: 1

  auth:
    username: default

  service:
    type: NodePort
    nodePorts:
      http: "30123"
      tcp: "30901"

  resources:
    requests:
      cpu: 500m
      memory: 1Gi
    limits:
      cpu: "2"
      memory: 2Gi

  persistence:
    enabled: true
    storageClass: local-path
    size: 20Gi

  startupProbe:
    enabled: true
    initialDelaySeconds: 30
    periodSeconds: 10
    timeoutSeconds: 5
    failureThreshold: 30
    successThreshold: 1
  livenessProbe:
    initialDelaySeconds: 60
    periodSeconds: 15
    timeoutSeconds: 10
    failureThreshold: 6
  readinessProbe:
    initialDelaySeconds: 30
    periodSeconds: 10
    timeoutSeconds: 5
    failureThreshold: 6

  zookeeper:
    enabled: false

  metrics:
    enabled: false
