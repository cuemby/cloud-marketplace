# Cuemby defaults for OpenSearch on single-node K3s.

global:
  imageRegistry: public.ecr.aws
  security:
    allowInsecureImages: true

opensearch:
  # Single-node mode
  master:
    replicaCount: 1
    heapSize: 1024m
    resources:
      requests:
        cpu: 500m
        memory: 1Gi
      limits:
        cpu: "2"
        memory: 2Gi
    persistence:
      enabled: true
      storageClass: local-path
      size: 20Gi
    startupProbe:
      enabled: true
      initialDelaySeconds: 90
      periodSeconds: 10
      timeoutSeconds: 10
      failureThreshold: 30
      successThreshold: 1
    livenessProbe:
      initialDelaySeconds: 120
      periodSeconds: 20
      timeoutSeconds: 10
      failureThreshold: 6
    readinessProbe:
      initialDelaySeconds: 60
      periodSeconds: 10
      timeoutSeconds: 10
      failureThreshold: 6

  data:
    replicaCount: 0
  coordinating:
    replicaCount: 0
  ingest:
    replicaCount: 0

  service:
    type: NodePort
    nodePorts:
      restAPI: "30921"

  security:
    enabled: true
    tls:
      restEncryption: false

  dashboards:
    enabled: true
    service:
      type: ClusterIP
    resources:
      requests:
        cpu: 100m
        memory: 256Mi
      limits:
        cpu: 500m
        memory: 512Mi

  metrics:
    enabled: false
